% SOW must be emailed to the course instructor at akhamis@pami.uwaterloo.ca
% with subject SOW-[Your Project number] no later than June 9, 2014.

% (We are team #27)

\documentclass[a4paper]{article}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{parskip}
\usepackage{amssymb}

\title{Statement of Work}
\author{
	Group 27 \\
	\\
	Lucas Wojciechowksi, Ariel Weingarten, Alexander Maguire, \\
	Austin Dobrik, Dane Carr}
\date{\today}

\begin{document}

\maketitle

\section{Problem Characterization}

% This project should start by studying comprehensively the problem in order
% to characterize its complexity and its main challenges. Collect related
% resources and conduct a critical survey on similar solutions reported in the
% literature.

% Complex Task Allocation Problem: In mobile surveillance systems, complex
% task allocation addresses how to optimally assign a set of surveillance
% tasks to a set of mobile sensing agents to maximize overall expected
% performance, taking into account the priorities of the tasks and the skill
% ratings of the mobile robots.

% Suggested reference papers:
%
%  - Alaa Khamis, Ahmed Elmogy and Fakhreddine Karray, "Complex Task Allocation
%    in Mobile Surveillance Systems," Journal of Intelligent and Robotic Systems,
%    Springer
%  - Mohamed Badreldin, Ahmed Hussein and Alaa Khamis, "A Comparative Study
%    between Optimization and Market-based Approaches to Multi-robot Task
%    Allocation," Advances in Artificial Intelligence Journal, 2013.
%  - Alaa Khamis, Cooperative Multirobot Systems, Plenary Talk at IAC2014].

\section{Problem Formulation}

% In this step, an initial statement of the problem should be made. The
% internal and external factors and the objective(s) of the problem must be
% outlined. Describe the problem as standard optimization problem as
% following:
%
% Find
% $$X = {x_1, x_2, ..., x_n}^T$$
% which minimizes/maximizes $f(X)$ subject to equality constraints
% $$\forall j \in [1, m], l_j(X) = 0$$
% and inequality constraints
% $$\forall j \in [1, p], g_j(X) \leq 0$$
%
% Define the decision variable or design vector, objective function/s and the
% problem constraints.

\subsection{Givens}

Suppose you have a number of mobile robots
$$\mathit{robots} = \{ \mathit{robot}_i | i \in [1, n_\mathit{robots}] \}$$

Using these mobile robots, you are to peform a number of tasks
$$\mathit{tasks} = \{ \mathit{task}_i | i \in [1, n_\mathit{tasks}] \}$$

Each task has an inherent $\mathit{priority}$
$$\mathit{priority}(\mathit{task}_i) \in [0 ,1]$$

$\mathit{robot}$s are not homogeneous; some are more ``skilled" at certain tasks than others
$$\mathit{skill}(\mathit{robot}_i, \mathit{task}_j) \in [0 ,1]$$

$\mathit{robot}$s are assigned to tasks.
$$\mathit{robots}_i \rightarrow \mathit{task}_j$$
A single $\mathit{robot}$ may be assigned to multiple $\mathit{task}$.

\subsection{Problem}

You want to find the mapping of $\mathit{robot}$s to $\mathit{task}$s that optimizes the overall expected performance. This mapping can be expressed as a logical matrix, $S$, where
$$S_{i,j} = \left\{
  \begin{array}{lr}
     1 : \mathit{robot}_i \rightarrow \mathit{task}_j \\
     0 : \mathit{robot}_i \not \rightarrow \mathit{task}_j
  \end{array}
\right\}$$

Overall peformance is defined as
$$\mathit{peformance}\left(
\sum_{i=0}^{n_\mathit{robots}}
\sum_{j=0}^{n_\mathit{tasks}}
S_{i,j} \cdot
\mathit{skill}(\mathit{robot}_i, \mathit{task}_j) \cdot
\mathit{priority}(\mathit{task}_j)
\right)$$

\section{Problem Modeling}

% In this important step, an abstract mathematical model is built for the
% problem. The modeler can be inspired by similar models in the literature.
% This will reduce the problem to well-studied optimization models. Usually,
% models we are solving are simplifications of the reality. They involve
% approximations and sometimes they skip processes that are complex to
% represent in a mathematical model. For example, travelling salesman problem
% (TSP) and multiple travelling salesman problem (mTSP) are commonly used as
% models for real-life problems such as school bus routing problem and complex
% task allocation problem.

Given a population of robots $R$, a set of tasks $T$, a priority for each task $P_t$, the 
skill of each robot $S_{r,t}$ and a assignment of tasks to robots $A_r$, for each $r \in R$
we can create a directed, weighted graph as follows:

\begin{align*}
	G_r &= (V, E) \\
	V &= \{ start \} \cup A_r \\
	E_{x, t} &= -P_a S_{r,t} \qquad \forall t \in A_r \\
	E_{x, start} &= 0
\end{align*}

Which is to say, for each robot we create a graph with a start node and a node for each task assigned to said robot. The cost of traveling to any node is the negative of the robot's skill on the task multiplied by the task's priority. The cost of traveling to the start node is always 0.

From here, we can run TSP on the created graph, with the robot starting at the start node. It is trivial to show that regardless of the path taken, the total cost traveled is:

$$C_r = \sum_t^{A_r} -P_t S_{r,t}$$

In order to maximize efficiency of the system as a whole, we must then minimize the total cost for all robots:

$$C = \sum_r^{R} C_r = \sum_r^{R} \sum_t^{A_r} -P_t S_{r,t}$$




\section{Reduced Size Problem}

% Describe a reduced version of the problem in order to be used to perform
% hand-iterations. For example, if you are studying plant layout problem
% (PLP), a reduced size problem may contain only 4 departments (facilities)
% and 4 locations.

\section{Real Problem}

% The real size problem formulation and modeling will be used to show the
% ability of the proposed solutions implemented in handling large size
% problems.


\end{document}